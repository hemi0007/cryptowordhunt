# ChainWords - Crypto Word Search Game

A viral crypto-themed word search game that combines engaging gameplay with blockchain-inspired design. Players explore word grids while collecting crypto-powered power-ups and competing in daily challenges, with strategic one-time use power-up mechanics.

## Features

- React frontend with TypeScript
- Tailwind CSS for styling
- Notion API integration
- Supabase database for high scores
- Advanced power-up system
- Enhanced audio and visual feedback
- 85+ crypto-themed vocabulary words

## Deploying on Replit

### 1. Using Replit's Built-in Deployment

1. Click the "Deploy" button at the top of your Replit workspace
2. Replit will automatically build and deploy your application
3. Once deployed, you'll get a dedicated `.replit.app` URL

### 2. Environment Variables

Make sure these environment variables are set in your Replit deployment:

- `SUPABASE_URL`: Your Supabase project URL
- `SUPABASE_KEY`: Your Supabase API key
- `NODE_ENV`: Set to `production`

### 3. Configuring Domains (Optional)

1. If you have a custom domain, you can set it up in Replit's deployment settings
2. From your deployed app page, go to "Settings" > "Custom domains"
3. Follow the instructions to link your domain to your Replit app

## Supabase Setup

### 1. Create High Scores Table

Make sure your Supabase project has the necessary `high_scores` table with the correct schema:

```sql
CREATE TABLE public.high_scores (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  player_name TEXT NOT NULL,
  score INTEGER NOT NULL,
  words_found INTEGER NOT NULL,
  total_words INTEGER NOT NULL,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

-- Add an index for faster queries on score
CREATE INDEX high_scores_score_idx ON public.high_scores(score DESC);

-- Set up Row Level Security (RLS)
ALTER TABLE public.high_scores ENABLE ROW LEVEL SECURITY;

-- Create policies to allow all operations (for a public leaderboard)
CREATE POLICY "Allow anonymous read access" 
ON public.high_scores FOR SELECT USING (true);

CREATE POLICY "Allow anonymous insert access" 
ON public.high_scores FOR INSERT WITH CHECK (true);
```

### 2. Configure CORS for Your Production Domain

When deploying to production, you'll need to configure CORS in your Supabase project:

1. Go to your Supabase dashboard
2. Navigate to Project Settings > API 
3. Under "CORS (Cross-Origin Resource Sharing)", add your production domain:
   - Add your `.replit.app` domain to the "Origins" list
   - If you have a custom domain, add that as well
   - You can temporarily add `*` during testing, but make sure to specify exact domains for production

### 3. Use the Correct API Keys

For production deployment, make sure to:

1. Use the appropriate API key:
   - For server-side operations (most secure): use the `service_role` key
   - For client-side operations: use the `anon` public key

2. Keep your service_role key secure:
   - Store it as an environment variable in Replit
   - Use it only for server-side operations

## Development

For regular development work:

```bash
# Install dependencies
npm install

# Start development server
npm run dev
```

## Troubleshooting Deployment

### Common Issues:

1. **CORS Errors**:
   - Check that your Supabase project has the correct domain in the CORS origins list
   - Verify that you're using https:// on production

2. **Database Connection Issues**:
   - Verify your `SUPABASE_URL` and `SUPABASE_KEY` environment variables
   - Check that your IP address isn't blocked by Supabase's security settings

3. **Missing Environment Variables**:
   - Make sure all required environment variables are set in Replit
   - Double-check for typos in environment variable names

4. **Image Loading Issues**:
   - If images aren't loading, check that they're properly referenced with relative paths (./images/filename.png)
   - Verify that image files exist in the public directory